"use strict";(self.webpackChunkts_vue=self.webpackChunkts_vue||[]).push([[797],{9797:(n,e,t)=>{t.r(e),t.d(e,{default:()=>p});var o=t(5393);const c=t.p+"b0f53b2d654e34df3bf3b5652e819dfb.mp4";var r=function(n){return(0,o.dD)("data-v-d7cc8544"),n=n(),(0,o.Cn)(),n},u={class:"root"},i=r((function(){return(0,o._)("h1",null,"兄弟窗口",-1)})),a={class:"loca_right_parent_wrap"},d=r((function(){return(0,o._)("div",{class:"loca_video_wrap"},[(0,o._)("div",{class:"tip_text"},"本地视频预览"),(0,o._)("video",{id:"locaVideo",autoplay:"",controls:"",src:c,loop:"",width:"640",height:"480"})],-1)})),l={class:"remote_video_wrap"},s={class:"tip_text"},f=r((function(){return(0,o._)("video",{id:"remoteVideo",autoplay:"",controls:"",width:"640",height:"480"},null,-1)})),v=t(3697),m=null;const h={setup:function(){var n={handleVideoToTracks:function(){},handleInitAnswerOne:function(){m&&(m.close&&m.close(),m=null),m=new v.W({});var n=document.getElementById("remoteVideo"),e=document.getElementById("locaVideo");m.onSubscriptionMsg=function(t){if(t.event&&"remoteStreams"===t.event){var o=t.remoteStream;document.getElementById("remoteVideo").srcObject=o}if(t.event&&"incomingCall"===t.event){n.srcObject=null;var c=e.captureStream(30),r=t.offer;m.answer(r,c)}}},handleHangUp:function(){m&&m.hangup&&m.hangup()},handleUnmount:function(){m&&(m.unmount&&m.unmount(),m=null)}};return(0,o.bv)((function(){n.handleInitAnswerOne()})),(0,o.Jd)((function(){n.handleUnmount()})),{methods:n}}},p=(0,t(3744).Z)(h,[["render",function(n,e,t,c,r,v){return(0,o.wg)(),(0,o.iD)("div",u,[i,(0,o._)("div",a,[d,(0,o._)("div",l,[(0,o._)("div",s,[(0,o.Uk)("主窗口视频预览 "),(0,o._)("button",{onClick:e[0]||(e[0]=function(n){return c.methods.handleHangUp()})},"挂断")]),f])])])}],["__scopeId","data-v-d7cc8544"]])}}]);